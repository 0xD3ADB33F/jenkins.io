<html>
<head>
<title>
Jenkins Blog
</title>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<meta content='Jenkins is an open source automation server' name='description'>
<link href='/css/style.css' media='screen' rel='stylesheet'>
</head>
<body>
<a href='https://github.com/jenkinsci'>
<img alt='Fork us on GitHub' src='https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png' style='position: absolute; top: 0; right: 0; border: 0;'>
</a>
<div class='clearfloat' id='head'>
<div class='clearfloat'>
<div id='logo'>
<a href='/' title='Jenkins'>
<img src='/images/header_logo.png'>
</a>
<div id='tagline'>
An extendable open source automation server
</div>
</div>
</div>
<div class='clearfloat' id='navbar'>
<div id='page-bar'>
<ul class='menu'>
<li class='leaf first'>
<a href='/node' title='Blog landing page'>
Blog
</a>
</li>
<li class='expanded'>
<a href='/' title=''>
Connect
</a>
<ul class='menu'>
<li class='leaf first'>
<a href='/content/mailing-lists' title='Browse Jenkins mailing list archives and/or subscribe to lists'>
Mailing Lists
</a>
</li>
<li class='leaf'>
<a href='/content/chat' title='Chat with the rest of the Jenkins community on IRC'>
Chat
</a>
</li>
<li class='leaf'>
<a href='http://twitter.com/jenkinsci' title='Check out @jenkinsci on Twitter'>
Twitter
</a>
</li>
<li class='leaf'>
<a href='/content/event-calendar' title='Calendar for Jenkins events'>
Event Calendar
</a>
</li>
<li class='leaf'>
<a href='https://wiki.jenkins-ci.org/display/JENKINS/Office+Hours' title='WebEx-based online meeting'>
Office Hours
</a>
</li>
<li class='leaf last'>
<a href='https://reddit.com/r/jenkinsci' title='Check out the latest links and news on jenkinsci.reddit.com!'>
reddit
</a>
</li>
</ul>
</li>
<li class='leaf'>
<a href='https://wiki.jenkins-ci.org/display/JENKINS/Issue+Tracking' title='JIRA for Jenkins'>
Bug Tracker
</a>
</li>
<li class='leaf'>
<a href='http://wiki.jenkins-ci.org/' title='Main documentation of Jenkins'>
Wiki
</a>
</li>
<li class='leaf'>
<a href='http://ci.jenkins-ci.org/' title='Jenkins and plugins built on Jenkins'>
CI
</a>
</li>
<li class='leaf'>
<a href='https://wiki.jenkins-ci.org/display/JENKINS/Donation' title=''>
Donation
</a>
</li>
<li class='leaf last'>
<a href='/content/about-jenkins-ci' title='About Jenkins CI'>
About
</a>
</li>
</ul>
</div>
</div>

</div>
<div class='clearfloat' id='page'>
<div class='clearfloat' id='top'>
<div id='sidebar'>
<div class='block block-block even' id='block-block-5'>
<h3>
What is Jenkins?
</h3>
<div class='content'>
<p>
In a nutshell, Jenkins is the leading open source automation server.
Built with Java, it provides
<strong>
hundreds
</strong>
of plugins to support building, testing, deploying and automation
virtually any project
</p>
</div>
</div>
<div class='block block-block even' id='block-block-15'>
<h3>
Download
</h3>
<div class='content'>
This is where download content goes
</div>
</div>

<div class='block block-block even' id='block-block-15'>
<div class='content'>
<center>
<a href='http://www.wakaleo.com/books/jenkins-the-definitive-guide'>
<img alt='Jenkins: The Definitive Guide' border='0' src='http://agentdero.cachefly.net/continuousblog/images/jenkins-cover-small.png' width='220'>
</a>
<br>
<a href='http://oreilly.com/catalog/0636920010326'>
<strong>
Buy the book!
</strong>
</a>
</center>
</div>
</div>

<div class='block block-block odd' id='block-block-8'>
<h3>
Resources
</h3>
<div class='content'>
<big>
<p>
<a href='/calendar'>
Calendar
</a>
</p>
<p>
<a href='https://wiki.jenkins-ci.org/'>
Wiki
</a>
</p>
<p>
<a href='https://issues.jenkins-ci.org/'>
Issues
</a>
</p>
<p>
<a href='http://ci.jenkins-ci.org/'>
Jenkins-on-Jenkins
</a>
</p>
</big>
</div>
</div>


</div>
<div class='main-content with-sidebar' id='content'>
<div id='content-top'>
<div class='post'>
<h1>
<a href='/blog/2014/04/24/juc-agenda-posted/'>
JUC agenda posted
</a>
</h1>
<div class='content'>
<div style="float:right; margin:1em"><br/>
<a href="http://en.wikipedia.org/wiki/Kevin_Allen_(author)"><br/>
<img src="http://upload.wikimedia.org/wikipedia/commons/thumb/4/49/The_Hidden_Agenda_3D.png/181px-The_Hidden_Agenda_3D.png"/><br/>
</a><br/>
</div><br/>
<p><br/>
Agenda is posted for Jenkins User Conference <a href="http://www.cloudbees.com/jenkins/juc-2014/boston">Boston</a> and <a href="http://www.cloudbees.com/jenkins/juc-2014/berlin">Berlin</a>.<br/>
<br/>
<p><br/>
For Boston, my favorite would be the <a href="http://www.cloudbees.com/jenkins/juc-2014/boston/sessions#JesseGlick">workflow in Jenkins</a> talk that will cover the new workflow job type Jesse and I are working on. As of this writing it is still very much a work in progress, but that talk is our way of putting a stake on the ground that we WILL have something we can talk about by then. There's also some talks that describes how they've put together pieces (including Jenkins) to create a broad automation, such as <a href="http://www.cloudbees.com/jenkins/juc-2014/boston/sessions#HoiTsang">Distributed Scrum Development with Jenkins, Vagrant, Fabric and Selenium</a> and <a href="http://www.cloudbees.com/jenkins/juc-2014/boston/sessions#JimCrossley">Moving Existing Enterprise Systems to Continuous Integration and Deployment with Jenkins</a>.<br/>
<br/>
<p><br/>
For Berlin, it turns out that we have steller line up of the speakers far beyond my expectation. You have a number of key community contributors/developers like <a href="http://www.cloudbees.com/jenkins/juc-2014/berlin/speakers#ChristopherOrr">Christopher Orr</a> talking about <a href="http://www.cloudbees.com/jenkins/juc-2014/berlin/sessions#ChristopherOrr">how he does mobile build/test/deploy</a>, or <a href="http://www.cloudbees.com/jenkins/juc-2014/berlin/speakers#VincentLatombe">Vincent</a> talking about <a href="https://wiki.jenkins-ci.org/display/JENKINS/Literate+Plugin">literate plugin</a>. I'm also looking forward to the <a href="http://www.cloudbees.com/jenkins/juc-2014/berlin/sessions#JulienPivotto">Puppetizing Jenkins Pipelines</a> from Julien Pivotto, which (if I understand correctly) is about deploying Jenkins and its jobs through Puppet &mdash; That is something I notice many people are very interested in nowadays.<br/>
<br/>
<p><br/>
All of them are looking forward to meeting you and hearing your thoughts and feedbacks, and I'm sure this is going to be a great learning/networking oppotunities.<br/>
<br/>
<p><br/>
<a href="http://www.eventbrite.com/e/jenkins-user-conference-boston-ma-june-18-2014-tickets-10558652213">Registration for Boston is here</a>, and <a href="http://www.eventbrite.com/e/jenkins-user-conference-berlin-germany-june-25-2014-tickets-10557974185">registration for Berlin is here</a>. Seats are starting to fill up now, so don't procrastinate too much!

</div>
</div>
<div class='post'>
<h1>
<a href='/blog/2014/04/18/come-join-the-infra-team/'>
Come join the infra team!
</a>
</h1>
<div class='content'>
<div style="float:right; margin:1em"><br/>
<a href="http://puppetlabs.com/"><img src="http://puppetlabs.com/wp-content/uploads/2010/12/PL_logo_vertical_RGB_lg.jpg" width="100px"></a></div><br/>
<p><br/>
We are looking for volunteers to join the small infra team here at the Jenkins project. We are the butlers of the butler that get Mr.Jenkins going.<br/>
<br/>
<p><br/>
We've been <a href="https://github.com/jenkinsci/infra-puppet">managing our servers through puppet</a>, and have been slowly folding pieces one at a time to puppet, but there's still a lot of snowflake services that need proper operationalization.<br/>
<br/>
<p><br/>
So to fix them up, <a href="http://puppetlabs.com/">PuppetLabs</a> folks generously agreed to help us get going with a deployment of Puppet Enterprise. Tyler has managed to arrange a "rapid deployment" engagement. To kick start the effort, an instructor would come for one week (April 28th-May 2nd) to bring us up to speed on modern Puppet. we'll then spend some time on our own to puppt-ize more, and deploy Puppet Enterprise.<br/>
<br/>
<p><br/>
The end goal is to ensure sustainability of our infrastructure, in case of unexpected server loss.<br/>
<br/>
<p><br/>
As we are about to get this effort going, we think this is a good time to solicit a few more volunteers. We are looking for someone who could join this two week engagement in San Francisco, and keep their involvement beyond that. This is a part time volunteer work, and you'd get some visibility and exposure to the inner guts of open-source projects, not to mention the satisfaction of getting thanked for your work.<br/>
<br/>
<p><br/>
If you are interested, please <a href="http://jenkins-ci.org/content/mailing-lists">drop us a note at the infra list</a>.<br/>

</div>
</div>
<div class='post'>
<h1>
<a href='/blog/2014/04/16/active-directory-plugin-improvements/'>
Active Directory plugin improvements
</a>
</h1>
<div class='content'>
<div style="float:right; margin:1em"><br/>
<a href="http://en.wikipedia.org/wiki/Active_Directory"><br/>
<img src="http://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Active-directory.svg/170px-Active-directory.svg.png"><br/>
</a><br/>
</div><br/>
<br/>
<p><br/>
One of the few plugins that I still personally maintain is <a href="https://wiki.jenkins-ci.org/display/JENKINS/Active+Directory+plugin">Active Directory plugin</a>. In the past few months, I've been making steady improvements in this plugin, thanks to various inputs and bug reports given to me from the ClodBees customers.<br/>
<br/>
<p><br/>
One of the recent fixes was to get <a href="http://issues.jenkins-ci.org/browse/JENKINS-9258">the "remember me" feature</a> finally working for Active Directory. This requires a relatively new Jenkins 1.556, but it eliminates the need to having to constantly type the password in. <br/>
<br/>
<p><br/>
Then I've rebumped the version of <a href="http://github.com/kohsuke/com4j">COM4J</a>, which was <a href="http://issues.jenkins-ci.org/browse/JENKINS-16429">causing a thread leak</a> when Jenkins runs on Windows. If you are running a Windows deployment with lots of active users, this probably would have contributed to the instability of Jenkins.<br/>
<br/>
<p><br/>
And then lastly, a small but crucial improvement was made to the way we search group membership, so that we can avoid recursively searching AD. This should result in a significant speed improvement when you are logging into Jenkins through AD.<br/>
<br/>
<p><br/>
The latest version of the plugin as of writing is 1.37. I hope you'll have a chance to update the plugin soon.<br/>

</div>
</div>
<div class='post'>
<h1>
<a href='/blog/2014/04/15/upcoming-jenkins-office-hours-acceptance-test-harness/'>
Upcoming Jenkins Office Hours: Acceptance Test Harness
</a>
</h1>
<div class='content'>
<div style="float:right; margin:1em"><br/>
<img src="http://clsdf.com/wp-content/uploads/2011/06/tumblr_lkzltkxTmF1qersu1.gif" style="width:100px"><br/>
</div><br/>
<p><br/>
One of the new efforts in Jenkins this year is <a href="https://github.com/jenkinsci/acceptance-test-harness">the acceptance test harness</a> for Jenkins.<br/>
<br/>
<p><br/>
We will be doing the Jenkins office hours next week to go over this and sync up and coordinate between people in the community that are trying to work on this. <br/>
<br/>
<p><br/>
It'll be <b>April 23rd 11am PT</b> (<a href="http://www.timeanddate.com/worldclock/fixedtime.html?msg=Jenkins+Governance+Meeting&iso=20140423T11&p1=224&ah=1&sort=1">see what this time is in your time zone</a>) on Google Hangout at <a href="http://jenkins-ci.org/hangout">http://jenkins-ci.org/hangout</a>. If you are intereste in hacking Jenkins or if you are a large user of Jenkins who have acceptance tests, we are looking forward to seeing you there.<br/>
<br/>
<p><br/>
For those of you who haven't looked, this test harness allows you to write blackbox tests of Jenkins and its plugins. It was originally used to test LTS releases, but over the time, it acquired a number of features, such as ...:<br/>
<br/>
<ul><br/>
<li>Docker support for launching complex fixtures to test Jenkins with.<br/>
<li>Pluggability to launch Jenkins under test (JUT) in many different environments<br/>
<li>Pluggability to provision Jenkins and slaves from EC2 to test large deployments<br/>
<li>Choice of cucumber or JUnit to write test scripts<br/>
</ul><br/>
<br/>
<p><br/>
We are working on porting over existing test cases, but we'd like to work with users to move their acceptance tests on top of this same harness. The idea is to pool those test cases in the community so that we can test Jenkins and its plugins as we develop them. For this to work, we want tests to have lots of metadata (such as what plugins it touches), and for the harness to have sufficient modularity that different people can run the same scenario against different deployments, including existing instance.<br/>

</div>
</div>
<div class='post'>
<h1>
<a href='/blog/2014/04/11/jenkins-1-532-3-lts-is-released/'>
Jenkins 1.532.3 LTS is released
</a>
</h1>
<div class='content'>
<p><br/>
The final LTS release of the 1.532.x line is out today. You can download it from <a href="http://mirrors.jenkins-ci.org/">the usual location</a>. Changelog is <a href="http://jenkins-ci.org/changelog-stable">here</a>.<br/>
<br/>
<p><br/>
Starting with the next 1.554.x LTS, the release model will <a href="https://wiki.jenkins-ci.org/display/JENKINS/LTS+Release+Line">switch to the train model</a>, where we commit to dates and get whatever we can ship by that date. <br/>
<br/>
<p><br/>
You can see <a href="http://jenkins-ci.org/content/event-calendar">the scheduled dates in our event calendar</a>. Backporting window for 1.554.1 is almost closing, so if you want to have your favorite issues nominated for it, please see <a href="https://wiki.jenkins-ci.org/display/JENKINS/LTS+Release+Line">the process</a> in the Wiki and hurry!

</div>
</div>
<div class='post'>
<h1>
<a href='/blog/2014/04/11/infoq-ci-survey-2014/'>
InfoQ CI survey 2014
</a>
</h1>
<div class='content'>
<p><br/>
InfoQ has been <a href="http://www.infoq.com/research/ci-server">running a CI server survey</a> for more than a month now, and here is the current result:<br/>
<br/>
<div><br/>
<a href="http://www.infoq.com/research/ci-server"><br/>
<img src="http://jenkins-ci.org/sites/default/files/images/infoq.preview.png"><br/>
</a><br/>
</div><br/>
<br/>
<p><br/>
Jenkins has gotten more than 70% of the votes, once again proving the wide adoption among developers. If you are one of those who picked Cruise Control into the "considering" section, I'd encourage you to look around a bit more.<br/>
<br/>
<p><br/>
You can still <a href="http://www.infoq.com/research/ci-server">vote from their website or leave comments if you want</a>.<br/>
<br/>
<p><br/>
By the way, the design of two axes make no sense to me; for example, I'd order the adoption axis to "considering -> migrating to -> using now -> moving away from", and the circle seems to imply two axes are somehow interchangeable, when it should probably be just in a checkerboard to indicate those are independent axes.

</div>
</div>
<div class='post'>
<h1>
<a href='/blog/2014/04/09/more-scalable-slaves/'>
More scalable slaves
</a>
</h1>
<div class='content'>
<div style="float:right; margin:1em"><br/>
<a href="http://en.wikipedia.org/wiki/Nio"><br/>
<img src="http://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Nikko_Toshogu_Nio_M3043.jpg/160px-Nikko_Toshogu_Nio_M3043.jpg"><br/>
</a><br/>
<div align=center>Nio</div><br/>
</div><br/>
<br/>
<p><br/>
<a href="http://en.wikipedia.org/wiki/New_I/O">NIO</a>-based <a href="https://wiki.jenkins-ci.org/display/JENKINS/Distributed+builds#Distributedbuilds-LaunchslaveagentviaJavaWebStart">Java Web Start (JNLP) slave handling</a> is coming to 1.560. This will help you run a large number of JNLP slaves more efficiently. A connected JNLP slave used to occupy one thread on the master, but now it occupies none. Combined with the earlier change that eliminated threads from idle executors, now you can connect thousands of slaves.<br/>
<br/>
<p><br/>
All you have to do is to use the latest <tt>slave.jar</tt> from Jenkins 1.560. No other changes are necessary on users' part.<br/>
<br/>
<p><br/>
A bulk of this is implemented in <a href="https://github.com/jenkinsci/remoting">remoting 2.38</a>, and a good part of it was implemented about a year ago on the airplane on the way to Europe.<br/>
<br/>
<p><br/>
We plan to make CLI connections take advantages of this too, which helps those who use that a lot. That's not in 1.560, but hopefully it'll be in the near future. This change also paves a way for multi-participant bus-topology communication, which I think would be an useful building block for <a href="https://github.com/jenkinsci/master-to-master-api-plugin/">the work-in-progress master-to-master API</a>.

</div>
</div>
<div class='post'>
<h1>
<a href='/blog/2014/04/04/maven-job-type-performance-improvements-in-maven-plugin-2-2/'>
Maven job type performance improvements in Maven plugin 2.2
</a>
</h1>
<div class='content'>
<div style="float:right; margin:1em;"><br/>
<a href="http://en.wikipedia.org/wiki/Grumman_F-14_Tomcat"><br/>
<img src="http://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/US_Navy_040925-N-0295M-030_An_F-14D_Tomcat_conducts_a_high_speed_flyby_during_the_tactical_air_power_demonstration_at_the_2004_Naval_Air_Station_Oceana_Air_Show.jpg/300px-thumbnail.jpg"></a><br/>
</div><br/>
<br/>
<p><br/>
I recently had an opportunity to visit a big Jenkins user on site, and one of the things they've told me is that building projects in the Maven job type is substantially slower than doing the same with the freestyle project type.<br/>
<br/>
<p><br/>
This is partly expected, because this job type does more for you. For example, it automatically archives your build artifacts, fingerprints all the relevant information, and so on. These are good things, and naturally, it cost time.<br/>
<br/>
<p><br/>
But the slow down they are seeing was substantial, and this is a complaint I've heard from others as well. So I started looking into it.<br/>
<br/>
<p><br/>
With a help of <a href="http://linux.die.net/man/8/tc">artificial delay</a> induced to my network interface and several custom scripts to probe into the running processes, I was able to understand what was going on and make some good improvements.<br/>
<br/>
<p><br/>
First, in Maven plugin 2.0, we've made a change in the way we archive artifacts from Maven. Previously, the artifacts were copied between the master and the Maven JVM, and for a reason I'll mention later, this was very slow, especially in a network that has a large latency. With Maven plugin 2.0 and onward, artifacts are archived between the master and the slave JVM.<br/>
<br/>
<p><br/>
The second problem that I discovered was that the spy program we put inside Maven is causing excessive amount of unnecessary classloading. Some classes have static initializers that too eagerly refer to other classes, which in turn brings in other classes, and so on. Despite <a href="http://jenkins-ci.org/content/faster-slave-classloading">the jar file caching that we do</a>, these classloading still sometimes requires precious roundtrips to the master, which costs in the order of 10s of ms. I was able to make various changes in Jenkins core to cut this down, and these fixes will land in Jenkins 1.559 (ETA is April 14th.) The classloading overhead is independent of the size of your Maven build, so this improvement is more for people who have lots of small Maven builds, like <a href="https://ci.jenkins-ci.org/">Jenkins building Jenkins plugins</a>.<br/>
<br/>
<p><br/>
Now, on to the biggest fruit of this investigation I was able to discover and fix. Imagine the Maven JVM has a lot of data to send to the master, say you are archiving test reports or code coverage report. A good implementation would send these data as fast as ppossible to the master, paying respect to the limit of flow control to avoid overwhelming the master.<br/>
<br/>
<p><br/>
It turns out that the way we set up this communication channel was far from optimal. Instead of having the Maven JVM push data with flow control, we were relying on the master to pull data. That is, master has to send out a request to the slave to fetch the next batch of data (8KB), then once it receives that data, it sends out another request to fetch the next batch of data, and so on. If your network latency is 10ms, this scheme only lets us send 500KB/sec, even if you have a gigabit ethernet. No wonder it was so slow!<br/>
<br/>
<p><br/>
This fix is in in Maven plugin 2.2. See <a href="https://issues.jenkins-ci.org/browse/JENKINS-22354">JENKINS-22354</a> if you want to know more about the actual diffs and such.<br/>
<br/>
Unfortunately, none of these are available for those who are on 1.532.x LTS, but <a href="http://meetings.jenkins-ci.org/jenkins/2014/jenkins.2014-04-02-18.02.html">the next 1.554.1 LTS</a> will be able to run the newer Maven 2.2 plugin. So the help is on the way!<br/>
<br/>

</div>
</div>
<div class="pagination-links"><a href="/node/page/14.html" class="previous-link">Previous</a> <a href="/node/" class="page-link">1</a> <a href="/node/page/2.html" class="page-link">2</a> <span class="skip">...</span><a href="/node/page/14.html" class="page-link">14</a> <span class="current-page">15</span> <a href="/node/page/16.html" class="page-link">16</a> <span class="skip">...</span><a href="/node/page/45.html" class="page-link">45</a> <a href="/node/page/46.html" class="page-link">46</a> <a href="/node/page/16.html" class="next-link">Next</a> </div>

<div id='content-bottom'>
</div>
</div>
<script>
  !function(d,s,id) {
    var js, fjs=d.getElementsByTagName(s)[0];
    if (!d.getElementById(id)) {
      js = d.createElement(s);
      js.id=id;
      js.src="//platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,"script","twitter-wjs");
</script>

<div id='github'>
<a href='https://github.com/rtyler/jenkins.io/edit/master/content//node/index.html.haml' title='Edit /node/index.html.haml on GitHub'>
Improve this page
</a>
</div>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){

                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),

                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)

                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-4216293-5', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

</body>
</html>
