---
layout: section
title: Pipeline Development Tools
---
:description:
:author:
:email: jenkinsci-docs@googlegroups.com
:sectanchors:
:toc:
:imagesdir: /doc/book/resources
:hide-uri-scheme:

= Pipeline Development Tools

Jenkins Pipeline includes
<<getting-started#built-in-documentation, built-in documentation>> and the
<<getting-started#snippet-generator, Snippet Generator>> which are key resources
when developing Pipelines. They provide detailed help and information that is customized
to the currently installed version of Jenkins and related plugins.
In this section, we'll discuss other tools and resources
that may with development of Jenkins Pipelines.


== Blue Ocean Editor

The
<<../blueocean/pipeline-editor#, Blue Ocean Pipeline Editor>> provides a
link:https://en.wikipedia.org/wiki/WYSIWYG[WYSIWYG]
way to create Declarative Pipelines. The editor offers a structural view of all the stages,
parallel branches, and steps in a Pipeline. The editor validates Pipeline changes as they are
made, eliminating many errors before they are even committed.  Behind the scenes
it still generates Declarative Pipeline code.

[[linter]]
== Command-line Pipeline Linter

Jenkins can validate, or
"link:https://en.wikipedia.org/wiki/Lint_(software)[lint]",
a Declarative Pipeline from the command line before running actually running it.
This can be done using a Jenkins CLI command or by making an make an
HTTP POST
request with appropriate parameters.
We recommended using the
<<../managing/cli#ssh, SSH interface>>
for running the linter. See the <<../managing/cli, Jenkins CLI documentation>> for details on how to properly configure
Jenkins for secure command-line access.

.Linting via the CLI with SSH
[source,bash]
----
# ssh (Jenkins CLI)
# JENKINS_SSHD_PORT=[sshd port on master]
# JENKINS_HOSTNAME=[Jenkins master hostname]
ssh -p $JENKINS_SSHD_PORT $JENKINS_HOSTNAME declarative-linter < Jenkinsfile
----

.Linting via HTTP POST using `curl`
[source,bash]
----
# curl (REST API)
# Assuming "anonymous read access" has been enabled on your Jenkins instance.
# JENKINS_URL=[root URL of Jenkins master]
# JENKINS_CRUMB is needed if your Jenkins master has CRSF protection enabled as it should
JENKINS_CRUMB=`curl "$JENKINS_URL/crumbIssuer/api/xml?xpath=concat(//crumbRequestField,\":\",//crumb)"`
curl -X POST -H $JENKINS_CRUMB -F "jenkinsfile=<Jenkinsfile" $JENKINS_URL/pipeline-model-converter/validate
----

=== Examples

.Invalid Jenkinsfile
[source,bash]
----
# pass a Jenkinsfile that does not contain an "agent" section
ssh -p 8675 localhost declarative-linter < ./Jenkinsfile
Errors encountered validating Jenkinsfile:
WorkflowScript: 25: Not a valid section definition: 'agent'. Some extra configuration is required. @ line 25, column 1.
   pipeline &#125;
   ^

WorkflowScript: 25: Missing required section 'agent' @ line 25, column 1.
   pipeline &#125;
   ^
----

.Valid Jenkinsfile
[source,bash]
----
ssh -p 8675 localhost declarative-linter < ./Jenkinsfile
Jenkinsfile successfully validated.
----

[[replay]]
== "Replay" Pipeline Runs with Modifications

Creating Pipelines and debugging failures in Pipelines can be difficult and time consuming.
The standard development process for Pipeline changes -
change, commit, push, run, and analyze - add quite a bit of overhead between iterations.
Sometimes we just want to try out a quick change to a Pipeline and see the result.

The "Replay" feature allows for quick testing of modifications to a Pipeline
without creating a new commit or following regular code creation process.
To use the "Replay" feature:

. Select a previously completed run in the build history.
image::pipeline/replay-previous-run.png[Previous Pipeline Run]
. Click "Replay" in the left menu
image::pipeline/replay-left-bar.png[Replay Left-menu Button]
. Make modifications and click "Run".
In this example, we changed "ruby-2.3" to "ruby-2.4".
image::pipeline/replay-modified.png[Replay Left-menu Button]
. Check the results of changes

Replay can be called multiple times on the same run,
allowing for easy parallel testing of different changes.
Replay can also be called on Pipeline runs that are still in-progress.
As long as a Pipeline contained syntactically correct Groovy and able to start,
it can be Replayed.  Once you are satisfied with the changes,
you can use Replay to view them again, copy them back to your Pipeline job
or Jenkinsfile, and then commit them using your usual engineering processes.


[IMPORTANT]
====
When using Replay for more significant modifications, save your changes
to a file or editor outside of Jenkins before running them.
Pipeline runs with syntax errors cannot be replayed,
meaning their code cannot be viewed and any changes made in them cannot be retrieved.
See link:https://issues.jenkins-ci.org/browse/JENKINS-37589[JENKINS-37589]
====

[WARNING]
====
A Pipeline run launched using Replay may behave slightly differently than
a Pipeline run started from an SCM detected commit or Build call.
For Pipelines that are not part of a Multi-branch Pipeline,
the commit information may differ for the original run and the Replayed run.
See link:https://issues.jenkins-ci.org/browse/JENKINS-36453[JENKINS-36453]
====

[[unit-test]]
== Pipeline Unit Testing Framework

NOTE: The Pipeline Unit Testing Framework is a third-party tool that is not supported
by the Jenkins Project.

The link:https://github.com/lesfurets/JenkinsPipelineUnit[Pipeline Unit Testing Framework]
allows you to
link:https://en.wikipedia.org/wiki/Unit_testing[unit test]
Pipelines and <<shared-libraries, Shared Libraries>>
before running them in full. It provides a mock execution environment where real
Pipeline steps are replaced with mock objects that you can use to check for expected
behavior. New and rough around the edges, but promising.
The link:https://github.com/lesfurets/JenkinsPipelineUnit/blob/master/README.md[README]
for that project contains examples and usage instructions.
